<!DOCTYPE html>
<html>
<head>
    <title>Портфолио дизайнера презентаций</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=Raleway:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style>
        body, html {
            margin: 0;
            padding: 0;
            overflow: hidden;
            font-family: 'Segoe UI', system-ui, sans-serif;
            background: #0a0a0a;
            height: 100%;
        }
        .slides-container {
            width: 100vw;
            height: 100vh;
            position: relative;
            overflow: hidden;
        }
        .slide {
            position: absolute;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            background: #000;
            pointer-events: none;
            opacity: 0;
            transform: translateX(80px) scale(0.96);
            filter: blur(8px);
            transition: none;
            z-index: 1;
        }
        .slide.active {
            opacity: 1;
            transform: translateX(0) scale(1);
            filter: blur(0);
            pointer-events: all;
            z-index: 3;
            transition: transform 0.9s cubic-bezier(0.16, 1, 0.3, 1),
                        opacity 0.8s cubic-bezier(0.16, 1, 0.3, 1),
                        filter 0.8s cubic-bezier(0.16, 1, 0.3, 1);
        }
        .slide.leaving {
            opacity: 0;
            transform: translateX(-80px) scale(0.96);
            filter: blur(8px);
            z-index: 2;
            transition: transform 0.8s cubic-bezier(0.7, 0, 0.84, 0),
                        opacity 0.7s cubic-bezier(0.7, 0, 0.84, 0),
                        filter 0.7s cubic-bezier(0.7, 0, 0.84, 0);
        }
        .slide img {
            width: 100vw;
            height: 100vh;
            object-fit: contain;
            object-position: center;
            display: block;
        }
        area {
            cursor: pointer;
        }
        .site-loader {
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background: #0a0a0a;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            transition: opacity 0.9s, visibility 0.9s;
        }
        .site-loader.hidden {
            opacity: 0;
            visibility: hidden;
        }
        .loader-spinner {
            width: 72px;
            height: 72px;
            margin: 0 auto 30px;
            border: 3px solid rgba(226, 155, 23, 0.15);
            border-top-color: #E29B17;
            border-radius: 50%;
            animation: spin 1.4s infinite;
        }
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        .loader-text {
            color: #E29B17;
            font-family: 'Raleway', sans-serif;
            letter-spacing: 4px;
            font-size: 18px;
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0%, 100% { opacity: 0.7; }
            50% { opacity: 1; }
        }
    </style>
</head>
<body>
    <div id="site-loader" class="site-loader">
        <div class="loader-content">
            <div class="loader-spinner"></div>
            <p class="loader-text">ПОРТФОЛИО ПРЕЗЕНТАЦИЙ</p>
        </div>
    </div>

    <div class="slides-container">
        <section class="slide active" id="main-menu">
            <img src="Слайд1.webp" alt="Главное меню" usemap="#slide1-map">
        </section>
        <section class="slide" id="before-after">
            <img src="Слайд2.webp" alt="До/После 1" usemap="#menu-map">
        </section>
        <section class="slide">
            <img src="Слайд3.webp" alt="До/После 2" usemap="#menu-map">
        </section>
        <section class="slide" id="infographics-gallery">
            <img src="Слайд4.webp" alt="Инфографика - Галерея 1" usemap="#slide4-map">
        </section>
        <section class="slide" id="infographics-gallery-2">
            <img src="Слайд5.webp" alt="Инфографика - Галерея 2" usemap="#slide5-map">
        </section>
        <section class="slide" id="lab">
            <img src="Слайд6.webp" alt="Лаборатория 1" usemap="#slide6-map">
        </section>
        <section class="slide" id="lab-2">
            <img src="Слайд7.webp" alt="Лаборатория 2" usemap="#slide7-map">
        </section>
        <section class="slide" id="templates-gallery">
            <img src="Слайд8.webp" alt="Шаблоны - Галерея 1" usemap="#slide8-map">
        </section>
        <section class="slide" id="templates-gallery-2">
            <img src="Слайд9.webp" alt="Шаблоны - Галерея 2" usemap="#slide9-map">
        </section>
        <section class="slide" id="templates-gallery-3">
            <img src="Слайд10.webp" alt="Шаблоны - Галерея 3" usemap="#slide10-map">
        </section>
        <section class="slide" id="contacts">
            <img src="Слайд11.webp" alt="Контакты" usemap="#menu-map">
        </section>
    </div>

    <!-- Координаты для 1920×1080 (пиксели) -->
    <map name="slide1-map">
        <area shape="rect" coords="109,315,392,380" href="#" data-target="main-menu" class="nav-btn" alt="Обо мне" title="Обо мне">
        <area shape="rect" coords="109,405,392,470" href="#" data-target="before-after" class="nav-btn" alt="До/после" title="До/после">
        <area shape="rect" coords="109,488,392,552" href="#" data-target="infographics-gallery" class="nav-btn" alt="Инфографика" title="Инфографика">
        <area shape="rect" coords="109,569,392,633" href="#" data-target="lab" class="nav-btn" alt="Лаборатория" title="Лаборатория">
        <area shape="rect" coords="109,645,392,709" href="#" data-target="templates-gallery" class="nav-btn" alt="Готовые решения" title="Готовые решения">
        <area shape="rect" coords="109,727,392,792" href="#" data-target="contacts" class="nav-btn" alt="Контакты" title="Контакты">
    </map>
    <!-- ... остальные map-ы с оригинальными координатами ... -->

    <script>
        // ФУНКЦИЯ ПЕРЕСЧЁТА КООРДИНАТ
        function updateMapCoordinates() {
            const img = document.querySelector('.slide.active img');
            if (!img) return;
            
            const mapName = img.getAttribute('usemap')?.substring(1);
            if (!mapName) return;
            
            const map = document.querySelector(`map[name="${mapName}"]`);
            if (!map) return;
            
            const imgRect = img.getBoundingClientRect();
            const naturalWidth = 1920; // Исходная ширина изображения
            const naturalHeight = 1080; // Исходная высота изображения
            
            // Рассчитываем масштаб
            const scaleX = imgRect.width / naturalWidth;
            const scaleY = imgRect.height / naturalHeight;
            
            map.querySelectorAll('area').forEach(area => {
                let originalCoords = area.getAttribute('data-original');
                if (!originalCoords) {
                    originalCoords = area.getAttribute('coords');
                    area.setAttribute('data-original', originalCoords);
                }
                
                const coords = originalCoords.split(',').map(Number);
                const newCoords = [
                    Math.round(coords[0] * scaleX),
                    Math.round(coords[1] * scaleY),
                    Math.round(coords[2] * scaleX),
                    Math.round(coords[3] * scaleY)
                ];
                area.setAttribute('coords', newCoords.join(','));
            });
        }

        // ИНИЦИАЛИЗАЦИЯ
        window.addEventListener('load', function() {
            setTimeout(function() {
                const loader = document.getElementById('site-loader');
                if (loader) {
                    loader.classList.add('hidden');
                    setTimeout(() => loader.remove(), 900);
                }
                // Первый пересчёт координат
                setTimeout(updateMapCoordinates, 100);
            }, 800);
        });

        // Пересчёт при изменении размера и при смене слайдов
        window.addEventListener('resize', updateMapCoordinates);
        
        function switchSlideWithMagic(newSlideId) {
            const currentSlide = document.querySelector('.slide.active');
            const newSlide = document.getElementById(newSlideId);
            if (!currentSlide || !newSlide || currentSlide === newSlide) return;
            
            currentSlide.classList.remove('active');
            currentSlide.classList.add('leaving');
            
            setTimeout(() => {
                newSlide.classList.add('active');
                // Пересчитываем координаты для нового слайда
                setTimeout(updateMapCoordinates, 50);
            }, 150);
            
            setTimeout(() => {
                currentSlide.classList.remove('leaving');
            }, 850);
        }

        // Обработчики кнопок
        document.querySelectorAll('.nav-btn').forEach(btn => {
            btn.addEventListener('click', function(e) {
                e.preventDefault();
                switchSlideWithMagic(this.getAttribute('data-target'));
            });
        });

        // Остальной JavaScript (навигация и т.д.) остаётся без изменений
        // ...
    </script>
</body>
</html>
