<!DOCTYPE html>
<html>
<head>
    <title>Портфолио дизайнера презентаций</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        /* БАЗОВЫЕ СТИЛИ */
        body, html {
            margin: 0;
            padding: 0;
            overflow: hidden;
            font-family: 'Segoe UI', system-ui, sans-serif;
            background: #0a0a0a;
            height: 100%;
            perspective: 1200px; /* Для 3D-эффектов */
        }
        .slides-container {
            width: 100vw;
            height: 100vh;
            position: relative;
            overflow: hidden;
        }
        .slide {
            position: absolute;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            background: #000;
            pointer-events: none;
            opacity: 0;
            /* Исходное состояние для анимации ВХОДА */
            transform: translateX(80px) scale(0.96) rotateY(-5deg);
            filter: blur(8px);
            transition: none; /* Анимация контролируется JS */
            z-index: 1;
            will-change: transform, opacity, filter;
        }
        .slide.active {
            opacity: 1;
            transform: translateX(0) scale(1) rotateY(0deg);
            filter: blur(0);
            pointer-events: all;
            z-index: 3;
            transition: transform 0.9s cubic-bezier(0.16, 1, 0.3, 1),
                        opacity 0.8s cubic-bezier(0.16, 1, 0.3, 1),
                        filter 0.8s cubic-bezier(0.16, 1, 0.3, 1);
        }
        .slide.leaving {
            /* Анимация для уходящего слайда (ВЫХОД) */
            opacity: 0;
            transform: translateX(-80px) scale(0.96) rotateY(5deg);
            filter: blur(8px);
            z-index: 2;
            transition: transform 0.8s cubic-bezier(0.7, 0, 0.84, 0),
                        opacity 0.7s cubic-bezier(0.7, 0, 0.84, 0),
                        filter 0.7s cubic-bezier(0.7, 0, 0.84, 0);
        }
        .slide img {
            max-width: 100%;
            max-height: 100vh;
            display: block;
            outline: none;
            border: none;
            user-select: none;
            -webkit-user-select: none;
            -ms-user-select: none;
            /* Лёгкая тень для отделения от фона */
            filter: drop-shadow(0 10px 20px rgba(0, 0, 0, 0.3));
        }
        /* СТИЛИ ДЛЯ ИНТЕРАКТИВНЫХ ОБЛАСТЕЙ */
        area {
            cursor: pointer;
            outline: none;
            transition: opacity 0.2s ease;
        }
        area:hover {
            opacity: 0.85;
        }
        
        /* АНИМИРОВАННЫЙ ЗУМ-ЭФФЕКТ */
        .zoom-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(5, 5, 5, 0);
            backdrop-filter: blur(0px);
            z-index: 1000;
            display: none;
            justify-content: center;
            align-items: center;
            transition: background 0.4s cubic-bezier(0.16, 1, 0.3, 1),
                        backdrop-filter 0.4s cubic-bezier(0.16, 1, 0.3, 1);
        }
        .zoom-overlay.active {
            background: rgba(5, 5, 5, 0.97);
            backdrop-filter: blur(12px) saturate(1.3);
        }
        .zoom-image-animating {
            position: absolute;
            z-index: 1001;
            border-radius: 6px;
            overflow: hidden;
            box-shadow: 0 30px 80px rgba(0, 0, 0, 0);
            transition: all 0.6s cubic-bezier(0.16, 1, 0.3, 1);
        }
        .zoom-image-animating.expanded {
            box-shadow: 0 30px 80px rgba(0, 0, 0, 0.7),
                        inset 0 0 0 1px rgba(255, 255, 255, 0.05);
        }
        .zoom-image-animating img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        .zoom-image-animating img.loaded {
            opacity: 1;
        }
        .zoom-caption {
            position: absolute;
            bottom: 45px;
            color: rgba(255, 255, 255, 0.9);
            text-align: center;
            width: 100%;
            font-size: 19px;
            font-weight: 400;
            padding: 0 25px;
            text-shadow: 0 2px 15px rgba(0,0,0,0.5);
            letter-spacing: 0.3px;
            opacity: 0;
            transition: opacity 0.3s ease 0.3s;
            z-index: 1002;
        }
        .zoom-caption.visible {
            opacity: 1;
        }
        
        /* ПРЕЛОАДЕР (СОХРАНИЛИ, НО УЛУЧШИЛИ) */
        .site-loader {
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background: #0a0a0a;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            transition: opacity 0.9s ease, visibility 0.9s ease;
        }
        .site-loader.hidden {
            opacity: 0;
            visibility: hidden;
        }
        .loader-content {
            text-align: center;
            transform: translateY(-20px);
        }
        .loader-spinner {
            width: 68px;
            height: 68px;
            margin: 0 auto 28px;
            border: 2.5px solid transparent;
            border-top-color: rgba(255, 255, 255, 0.95);
            border-right-color: rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            animation: spin 1.4s cubic-bezier(0.68, -0.55, 0.27, 1.55) infinite;
        }
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        .loader-text {
            color: rgba(255, 255, 255, 0.8);
            font-family: 'Segoe UI', sans-serif;
            letter-spacing: 3px;
            font-size: 17px;
            font-weight: 300;
            opacity: 0.9;
            animation: pulse 2s ease-in-out infinite;
        }
        @keyframes pulse {
            0%, 100% { opacity: 0.7; }
            50% { opacity: 1; }
        }

        /* АДАПТИВНОСТЬ ДЛЯ МОБИЛЬНЫХ */
        @media (max-width: 768px) {
            body, html {
                overflow-y: auto;
                perspective: none; /* Отключаем 3D на мобильных */
            }
            .slides-container {
                overflow-y: auto;
                height: auto;
                min-height: 100vh;
            }
            .slide {
                position: relative;
                min-height: 100vh;
                padding: 10px 0;
                transform: translateY(25px) scale(0.98) !important;
                filter: blur(4px) !important;
            }
            .slide.active {
                transform: translateY(0) scale(1) !important;
                filter: blur(0) !important;
            }
            .slide.leaving {
                transform: translateY(-25px) scale(0.98) !important;
                filter: blur(4px) !important;
            }
            .slide img {
                max-width: 96vw;
                max-height: none;
                height: auto;
            }
            .zoom-caption {
                bottom: 30px;
                font-size: 16px;
                padding: 0 15px;
            }
            .loader-spinner {
                width: 54px;
                height: 54px;
            }
            .loader-text {
                font-size: 14px;
                letter-spacing: 2px;
            }
            .nav-hint {
                font-size: 12px;
                padding: 8px;
                bottom: 15px;
            }
        }

        /* ПОДСКАЗКА ДЛЯ МОБИЛЬНЫХ */
        .nav-hint {
            position: fixed;
            bottom: 25px;
            left: 0;
            right: 0;
            text-align: center;
            color: rgba(255, 255, 255, 0.35);
            font-size: 13px;
            font-weight: 300;
            padding: 12px;
            z-index: 99;
            font-family: 'Segoe UI', sans-serif;
            letter-spacing: 1px;
            pointer-events: none;
        }
        @media (min-width: 769px) {
            .nav-hint {
                display: none;
            }
        }
    </style>
</head>
<body>
    <!-- ПРЕЛОАДЕР -->
    <div id="site-loader" class="site-loader">
        <div class="loader-content">
            <div class="loader-spinner"></div>
            <p class="loader-text">ПОРТФОЛИО ПРЕЗЕНТАЦИЙ</p>
        </div>
    </div>

    <!-- ОВЕРЛЕЙ ДЛЯ АНИМАЦИИ ЗУМА -->
    <div id="zoomOverlay" class="zoom-overlay">
        <div id="zoomContainer" class="zoom-image-animating">
            <img id="zoomImage" src="" alt="">
        </div>
        <div id="zoomCaption" class="zoom-caption"></div>
    </div>

    <div class="slides-container">
        <!-- СЛАЙДЫ (остаются в том же порядке) -->
        <section class="slide active" id="main-menu">
            <img src="Слайд1.JPG" alt="Главное меню" usemap="#slide1-map">
        </section>
        <section class="slide" id="before-after">
            <img src="Слайд2.JPG" alt="До/После 1" usemap="#menu-map">
        </section>
        <section class="slide">
            <img src="Слайд3.JPG" alt="До/После 2" usemap="#menu-map">
        </section>
        <section class="slide" id="infographics-gallery">
            <img src="Слайд4.JPG" alt="Инфографика - Галерея 1" usemap="#slide4-map">
        </section>
        <section class="slide" id="infographics-gallery-2">
            <img src="Слайд5.JPG" alt="Инфографика - Галерея 2" usemap="#slide5-map">
        </section>
        <section class="slide" id="lab">
            <img src="Слайд6.JPG" alt="Лаборатория 1" usemap="#slide6-map">
        </section>
        <section class="slide" id="lab-2">
            <img src="Слайд7.JPG" alt="Лаборатория 2" usemap="#slide7-map">
        </section>
        <section class="slide" id="templates-gallery">
            <img src="Слайд8.JPG" alt="Шаблоны - Галерея 1" usemap="#slide8-map">
        </section>
        <section class="slide" id="templates-gallery-2">
            <img src="Слайд9.JPG" alt="Шаблоны - Галерея 2" usemap="#slide9-map">
        </section>
        <section class="slide" id="templates-gallery-3">
            <img src="Слайд10.JPG" alt="Шаблоны - Галерея 3" usemap="#slide10-map">
        </section>
        <section class="slide" id="contacts">
            <img src="Слайд11.JPG" alt="Контакты" usemap="#menu-map">
        </section>
    </div>

    <!-- Подсказка для мобильных -->
    <div class="nav-hint">← → на клавиатуре • ESC для выхода</div>

    <!-- Image Maps (остаются БЕЗ ИЗМЕНЕНИЙ, как в предыдущем коде) -->
    <map name="slide1-map">
        <area shape="rect" coords="73,210,261,253" href="#" data-target="main-menu" class="nav-btn" alt="Обо мне" title="Обо мне">
        <area shape="rect" coords="73,270,261,313" href="#" data-target="before-after" class="nav-btn" alt="До/после" title="До/после">
        <area shape="rect" coords="73,325,261,368" href="#" data-target="infographics-gallery" class="nav-btn" alt="Инфографика" title="Инфографика">
        <area shape="rect" coords="73,379,261,422" href="#" data-target="lab" class="nav-btn" alt="Лаборатория" title="Лаборатория">
        <area shape="rect" coords="73,430,261,473" href="#" data-target="templates-gallery" class="nav-btn" alt="Готовые решения" title="Готовые решения">
        <area shape="rect" coords="73,485,261,528" href="#" data-target="contacts" class="nav-btn" alt="Контакты" title="Контакты">
    </map>
    <map name="menu-map">
        <area shape="rect" coords="73,210,261,253" href="#" data-target="main-menu" class="nav-btn" alt="Обо мне" title="Обо мне">
        <area shape="rect" coords="73,270,261,313" href="#" data-target="before-after" class="nav-btn" alt="До/после" title="До/после">
        <area shape="rect" coords="73,325,261,368" href="#" data-target="infographics-gallery" class="nav-btn" alt="Инфографика" title="Инфографика">
        <area shape="rect" coords="73,379,261,422" href="#" data-target="lab" class="nav-btn" alt="Лаборатория" title="Лаборатория">
        <area shape="rect" coords="73,430,261,473" href="#" data-target="templates-gallery" class="nav-btn" alt="Готовые решения" title="Готовые решения">
        <area shape="rect" coords="73,485,261,528" href="#" data-target="contacts" class="nav-btn" alt="Контакты" title="Контакты">
    </map>
    <map name="slide4-map">
        <area shape="rect" coords="73,210,261,253" href="#" data-target="main-menu" class="nav-btn" alt="Обо мне" title="Обо мне">
        <area shape="rect" coords="73,270,261,313" href="#" data-target="before-after" class="nav-btn" alt="До/после" title="До/после">
        <area shape="rect" coords="73,325,261,368" href="#" data-target="infographics-gallery" class="nav-btn" alt="Инфографика" title="Инфографика">
        <area shape="rect" coords="73,379,261,422" href="#" data-target="lab" class="nav-btn" alt="Лаборатория" title="Лаборатория">
        <area shape="rect" coords="73,430,261,473" href="#" data-target="templates-gallery" class="nav-btn" alt="Готовые решения" title="Готовые решения">
        <area shape="rect" coords="73,485,261,528" href="#" data-target="contacts" class="nav-btn" alt="Контакты" title="Контакты">
        <area shape="rect" coords="522,236,842,417" data-large="Слайд13.JPG" class="zoom-image" alt="Инфографика 1" title="Увеличить">
        <area shape="rect" coords="522,468,842,649" data-large="Слайд14.JPG" class="zoom-image" alt="Инфографика 2" title="Увеличить">
        <area shape="rect" coords="886,46,1206,227" data-large="Слайд12.JPG" class="zoom-image" alt="Инфографика 3" title="Увеличить">
        <area shape="rect" coords="886,236,1206,417" data-large="Слайд15.JPG" class="zoom-image" alt="Инфографика 4" title="Увеличить">
        <area shape="rect" coords="1104,648,1203,673" href="#" data-target="infographics-gallery-2" class="nav-btn" alt="Далее" title="Далее">
    </map>
    <map name="slide5-map">
        <area shape="rect" coords="73,210,261,253" href="#" data-target="main-menu" class="nav-btn" alt="Обо мне" title="Обо мне">
        <area shape="rect" coords="73,270,261,313" href="#" data-target="before-after" class="nav-btn" alt="До/после" title="До/после">
        <area shape="rect" coords="73,325,261,368" href="#" data-target="infographics-gallery" class="nav-btn" alt="Инфографика" title="Инфографика">
        <area shape="rect" coords="73,379,261,422" href="#" data-target="lab" class="nav-btn" alt="Лаборатория" title="Лаборатория">
        <area shape="rect" coords="73,430,261,473" href="#" data-target="templates-gallery" class="nav-btn" alt="Готовые решения" title="Готовые решения">
        <area shape="rect" coords="73,485,261,528" href="#" data-target="contacts" class="nav-btn" alt="Контакты" title="Контакты">
        <area shape="rect" coords="522,228,844,408" data-large="Слайд17.JPG" class="zoom-image" alt="Инфографика 5" title="Увеличить">
        <area shape="rect" coords="520,468,842,648" data-large="Слайд18.JPG" class="zoom-image" alt="Инфографика 6" title="Увеличить">
        <area shape="rect" coords="885,47,1207,227" data-large="Слайд16.JPG" class="zoom-image" alt="Инфографика 7" title="Увеличить">
        <area shape="rect" coords="1104,648,1203,673" href="#" data-target="infographics-gallery" class="nav-btn" alt="Назад" title="Назад">
    </map>
    <map name="slide6-map">
        <area shape="rect" coords="73,210,261,253" href="#" data-target="main-menu" class="nav-btn" alt="Обо мне" title="Обо мне">
        <area shape="rect" coords="73,270,261,313" href="#" data-target="before-after" class="nav-btn" alt="До/после" title="До/после">
        <area shape="rect" coords="73,325,261,368" href="#" data-target="infographics-gallery" class="nav-btn" alt="Инфографика" title="Инфографика">
        <area shape="rect" coords="73,379,261,422" href="#" data-target="lab" class="nav-btn" alt="Лаборатория" title="Лаборатория">
        <area shape="rect" coords="73,430,261,473" href="#" data-target="templates-gallery" class="nav-btn" alt="Готовые решения" title="Готовые решения">
        <area shape="rect" coords="73,485,261,528" href="#" data-target="contacts" class="nav-btn" alt="Контакты" title="Контакты">
        <area shape="rect" coords="1104,648,1203,673" href="#" data-target="lab-2" class="nav-btn" alt="Далее" title="Далее">
    </map>
    <map name="slide7-map">
        <area shape="rect" coords="73,210,261,253" href="#" data-target="main-menu" class="nav-btn" alt="Обо мне" title="Обо мне">
        <area shape="rect" coords="73,270,261,313" href="#" data-target="before-after" class="nav-btn" alt="До/после" title="До/после">
        <area shape="rect" coords="73,325,261,368" href="#" data-target="infographics-gallery" class="nav-btn" alt="Инфографика" title="Инфографика">
        <area shape="rect" coords="73,379,261,422" href="#" data-target="lab" class="nav-btn" alt="Лаборатория" title="Лаборатория">
        <area shape="rect" coords="73,430,261,473" href="#" data-target="templates-gallery" class="nav-btn" alt="Готовые решения" title="Готовые решения">
        <area shape="rect" coords="73,485,261,528" href="#" data-target="contacts" class="nav-btn" alt="Контакты" title="Контакты">
        <area shape="rect" coords="1104,648,1203,673" href="#" data-target="lab" class="nav-btn" alt="Назад" title="Назад">
    </map>
    <map name="slide8-map">
        <area shape="rect" coords="73,210,261,253" href="#" data-target="main-menu" class="nav-btn" alt="Обо мне" title="Обо мне">
        <area shape="rect" coords="73,270,261,313" href="#" data-target="before-after" class="nav-btn" alt="До/после" title="До/после">
        <area shape="rect" coords="73,325,261,368" href="#" data-target="infographics-gallery" class="nav-btn" alt="Инфографика" title="Инфографика">
        <area shape="rect" coords="73,379,261,422" href="#" data-target="lab" class="nav-btn" alt="Лаборатория" title="Лаборатория">
        <area shape="rect" coords="73,430,261,473" href="#" data-target="templates-gallery" class="nav-btn" alt="Готовые решения" title="Готовые решения">
        <area shape="rect" coords="73,485,261,528" href="#" data-target="contacts" class="nav-btn" alt="Контакты" title="Контакты">
        <area shape="rect" coords="294,158,613,337" data-large="Слайд19.JPG" class="zoom-image" alt="Шаблон 1" title="Увеличить">
        <area shape="rect" coords="614,158,933,337" data-large="Слайд20.JPG" class="zoom-image" alt="Шаблон 2" title="Увеличить">
        <area shape="rect" coords="933,158,1252,337" data-large="Слайд21.JPG" class="zoom-image" alt="Шаблон 3" title="Увеличить">
        <area shape="rect" coords="294,424,613,603" data-large="Слайд22.JPG" class="zoom-image" alt="Шаблон 4" title="Увеличить">
        <area shape="rect" coords="614,424,933,603" data-large="Слайд23.JPG" class="zoom-image" alt="Шаблон 5" title="Увеличить">
        <area shape="rect" coords="933,424,1252,603" data-large="Слайд24.JPG" class="zoom-image" alt="Шаблон 6" title="Увеличить">
        <area shape="rect" coords="1104,648,1203,673" href="#" data-target="templates-gallery-2" class="nav-btn" alt="Далее" title="Далее">
    </map>
    <map name="slide9-map">
        <area shape="rect" coords="73,210,261,253" href="#" data-target="main-menu" class="nav-btn" alt="Обо мне" title="Обо мне">
        <area shape="rect" coords="73,270,261,313" href="#" data-target="before-after" class="nav-btn" alt="До/после" title="До/после">
        <area shape="rect" coords="73,325,261,368" href="#" data-target="infographics-gallery" class="nav-btn" alt="Инфографика" title="Инфографика">
        <area shape="rect" coords="73,379,261,422" href="#" data-target="lab" class="nav-btn" alt="Лаборатория" title="Лаборатория">
        <area shape="rect" coords="73,430,261,473" href="#" data-target="templates-gallery" class="nav-btn" alt="Готовые решения" title="Готовые решения">
        <area shape="rect" coords="73,485,261,528" href="#" data-target="contacts" class="nav-btn" alt="Контакты" title="Контакты">
        <area shape="rect" coords="294,158,613,337" data-large="Слайд25.JPG" class="zoom-image" alt="Шаблон 7" title="Увеличить">
        <area shape="rect" coords="614,158,933,337" data-large="Слайд26.JPG" class="zoom-image" alt="Шаблон 8" title="Увеличить">
        <area shape="rect" coords="933,158,1252,337" data-large="Слайд27.JPG" class="zoom-image" alt="Шаблон 9" title="Увеличить">
        <area shape="rect" coords="294,424,613,603" data-large="Слайд28.JPG" class="zoom-image" alt="Шаблон 10" title="Увеличить">
        <area shape="rect" coords="614,424,933,603" data-large="Слайд29.JPG" class="zoom-image" alt="Шаблон 11" title="Увеличить">
        <area shape="rect" coords="933,424,1252,603" data-large="Слайд30.JPG" class="zoom-image" alt="Шаблон 12" title="Увеличить">
        <area shape="rect" coords="289,650,390,672" href="#" data-target="templates-gallery" class="nav-btn" alt="Назад" title="Назад">
        <area shape="rect" coords="1104,648,1203,673" href="#" data-target="templates-gallery-3" class="nav-btn" alt="Далее" title="Далее">
    </map>
    <map name="slide10-map">
        <area shape="rect" coords="73,210,261,253" href="#" data-target="main-menu" class="nav-btn" alt="Обо мне" title="Обо мне">
        <area shape="rect" coords="73,270,261,313" href="#" data-target="before-after" class="nav-btn" alt="До/после" title="До/после">
        <area shape="rect" coords="73,325,261,368" href="#" data-target="infographics-gallery" class="nav-btn" alt="Инфографика" title="Инфографика">
        <area shape="rect" coords="73,379,261,422" href="#" data-target="lab" class="nav-btn" alt="Лаборатория" title="Лаборатория">
        <area shape="rect" coords="73,430,261,473" href="#" data-target="templates-gallery" class="nav-btn" alt="Готовые решения" title="Готовые решения">
        <area shape="rect" coords="73,485,261,528" href="#" data-target="contacts" class="nav-btn" alt="Контакты" title="Контакты">
        <area shape="rect" coords="294,158,613,337" data-large="Слайд31.JPG" class="zoom-image" alt="Шаблон 13" title="Увеличить">
        <area shape="rect" coords="614,158,933,337" data-large="Слайд32.JPG" class="zoom-image" alt="Шаблон 14" title="Увеличить">
        <area shape="rect" coords="933,158,1252,337" data-large="Слайд33.JPG" class="zoom-image" alt="Шаблон 15" title="Увеличить">
        <area shape="rect" coords="294,424,613,603" data-large="Слайд34.JPG" class="zoom-image" alt="Шаблон 16" title="Увеличить">
        <area shape="rect" coords="614,424,933,603" data-large="Слайд35.JPG" class="zoom-image" alt="Шаблон 17" title="Увеличить">
        <area shape="rect" coords="933,424,1252,603" data-large="Слайд36.JPG" class="zoom-image" alt="Шаблон 18" title="Увеличить">
        <area shape="rect" coords="1104,648,1203,673" href="#" data-target="templates-gallery-2" class="nav-btn" alt="Назад" title="Назад">
    </map>

    <script>
        // ==================== ПОЛИФИЛ ДЛА ПЛАВНОСТИ ====================
        (function() {
            var lastTime = 0;
            var vendors = ['ms', 'moz', 'webkit', 'o'];
            for(var x = 0; x < vendors.length && !window.requestAnimationFrame; ++x) {
                window.requestAnimationFrame = window[vendors[x]+'RequestAnimationFrame'];
                window.cancelAnimationFrame = window[vendors[x]+'CancelAnimationFrame'] || window[vendors[x]+'CancelRequestAnimationFrame'];
            }
            if (!window.requestAnimationFrame)
                window.requestAnimationFrame = function(callback, element) {
                    var currTime = new Date().getTime();
                    var timeToCall = Math.max(0, 16 - (currTime - lastTime));
                    var id = window.setTimeout(function() { callback(currTime + timeToCall); }, timeToCall);
                    lastTime = currTime + timeToCall;
                    return id;
                };
            if (!window.cancelAnimationFrame)
                window.cancelAnimationFrame = function(id) {
                    clearTimeout(id);
                };
        }());

        // ==================== ПРЕЛОАДЕР ====================
        window.addEventListener('load', function() {
            setTimeout(function() {
                const loader = document.getElementById('site-loader');
                if (loader) {
                    loader.classList.add('hidden');
                    setTimeout(() => loader.remove(), 900);
                }
            }, 800);
        });

        // ==================== ЭФФЕКТ ПЛАВНОГО УВЕЛИЧЕНИЯ ====================
        function zoomImageFromThumbnail(areaElement) {
            const coords = areaElement.getAttribute('coords').split(',').map(Number);
            const imageUrl = areaElement.getAttribute('data-large');
            const altText = areaElement.getAttribute('alt');
            
            // Получаем позицию и размер миниатюры на экране
            const rect = {
                left: coords[0],
                top: coords[1],
                width: coords[2] - coords[0],
                height: coords[3] - coords[1]
            };
            
            // Создаем временный контейнер для анимации
            const zoomContainer = document.getElementById('zoomContainer');
            const zoomImage = document.getElementById('zoomImage');
            const zoomCaption = document.getElementById('zoomCaption');
            const zoomOverlay = document.getElementById('zoomOverlay');
            
            // Устанавливаем начальную позицию (точно как миниатюра)
            zoomContainer.style.width = rect.width + 'px';
            zoomContainer.style.height = rect.height + 'px';
            zoomContainer.style.left = rect.left + 'px';
            zoomContainer.style.top = rect.top + 'px';
            zoomContainer.style.transform = 'scale(1)';
            zoomContainer.classList.remove('expanded');
            
            // Устанавливаем изображение и подпись
            zoomImage.src = '';
            zoomImage.classList.remove('loaded');
            zoomCaption.textContent = altText;
            zoomCaption.classList.remove('visible');
            
            // Показываем оверлей (без фона сначала)
            zoomOverlay.style.display = 'flex';
            
            // Загружаем изображение
            const img = new Image();
            img.onload = function() {
                // Устанавливаем загруженное изображение
                zoomImage.src = imageUrl;
                
                // Даем время браузеру обработать DOM
                setTimeout(() => {
                    // Показываем изображение
                    zoomImage.classList.add('loaded');
                    
                    // Активируем фон оверлея
                    zoomOverlay.classList.add('active');
                    
                    // Рассчитываем конечную позицию (по центру экрана)
                    const targetWidth = Math.min(window.innerWidth * 0.9, this.naturalWidth);
                    const targetHeight = Math.min(window.innerHeight * 0.9, this.naturalHeight);
                    
                    const targetLeft = (window.innerWidth - targetWidth) / 2;
                    const targetTop = (window.innerHeight - targetHeight) / 2;
                    
                    // Анимация увеличения
                    requestAnimationFrame(() => {
                        zoomContainer.style.left = targetLeft + 'px';
                        zoomContainer.style.top = targetTop + 'px';
                        zoomContainer.style.width = targetWidth + 'px';
                        zoomContainer.style.height = targetHeight + 'px';
                        zoomContainer.classList.add('expanded');
                        
                        // Показываем подпись после завершения анимации
                        setTimeout(() => {
                            zoomCaption.classList.add('visible');
                        }, 400);
                    });
                }, 50);
            };
            img.src = imageUrl;
        }

        // ==================== ЗАКРЫТИЕ ЭФФЕКТА УВЕЛИЧЕНИЯ ====================
        function closeZoom() {
            const zoomOverlay = document.getElementById('zoomOverlay');
            const zoomContainer = document.getElementById('zoomContainer');
            const zoomCaption = document.getElementById('zoomCaption');
            
            // Скрываем подпись
            zoomCaption.classList.remove('visible');
            
            // Убираем фон оверлея
            zoomOverlay.classList.remove('active');
            zoomContainer.classList.remove('expanded');
            
            // Скрываем оверлей после анимации
            setTimeout(() => {
                zoomOverlay.style.display = 'none';
            }, 400);
        }

        // ==================== ОБРАБОТЧИКИ ДЛЯ МИНИАТЮР ====================
        document.querySelectorAll('.zoom-image').forEach(area => {
            area.addEventListener('click', function(e) {
                e.preventDefault();
                zoomImageFromThumbnail(this);
            });
        });

        // Закрытие по клику на оверлей или ESC
        document.getElementById('zoomOverlay').addEventListener('click', function(e) {
            if (e.target === this) {
                closeZoom();
            }
        });

        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                closeZoom();
            }
        });

        // ==================== ВОЛШЕБНАЯ ФУНКЦИЯ ПЕРЕХОДА ====================
        function switchSlideWithMagic(newSlideId) {
            const currentSlide = document.querySelector('.slide.active');
            const newSlide = document.getElementById(newSlideId);
            
            if (!currentSlide || !newSlide || currentSlide === newSlide) return;
            
            // 1. Помечаем текущий слайд как "уходящий"
            currentSlide.classList.remove('active');
            currentSlide.classList.add('leaving');
            
            // 2. Через небольшой промежуток начинаем показ нового слайда
            setTimeout(() => {
                newSlide.classList.add('active');
            }, 150); // Задержка для наложения анимаций
            
            // 3. Убираем класс "leaving" после завершения анимации
            setTimeout(() => {
                currentSlide.classList.remove('leaving');
            }, 850);
        }

        // ==================== НАВИГАЦИЯ ПО СЛАЙДАМ ====================
        document.querySelectorAll('.nav-btn').forEach(btn => {
            btn.addEventListener('click', function(e) {
                e.preventDefault();
                const targetId = this.getAttribute('data-target');
                switchSlideWithMagic(targetId);
            });
        });

        // ==================== КЛАВИАТУРНАЯ НАВИГАЦИЯ ====================
        document.addEventListener('keydown', function(event) {
            const slides = Array.from(document.querySelectorAll('.slide'));
            const currentIndex = slides.findIndex(slide => slide.classList.contains('active'));
            
            if (event.key === 'ArrowRight' || event.key === 'PageDown' || event.key === ' ') {
                // Следующий слайд
                const nextIndex = (currentIndex + 1) % slides.length;
                switchSlideWithMagic(slides[nextIndex].id);
            } else if (event.key === 'ArrowLeft' || event.key === 'PageUp') {
                // Предыдущий слайд
                const prevIndex = (currentIndex - 1 + slides.length) % slides.length;
                switchSlideWithMagic(slides[prevIndex].id);
            } else if (event.key === 'Home') {
                // На первый слайд
                switchSlideWithMagic(slides[0].id);
            } else if (event.key === 'End') {
                // На последний слайд
                switchSlideWithMagic(slides[slides.length - 1].id);
            }
        });

        // ==================== ПЛАВНЫЙ СКРОЛЛ ДЛЯ МОБИЛЬНЫХ ====================
        if (window.innerWidth <= 768) {
            document.querySelectorAll('area').forEach(area => {
                area.addEventListener('click', function() {
                    setTimeout(() => {
                        window.scrollTo({ top: 0, behavior: 'smooth' });
                    }, 300);
                });
            });
        }

        // ==================== ОТКЛЮЧЕНИЕ ПРОКРУТКИ НА ДЕСКТОПЕ ====================
        if (window.innerWidth > 768) {
            document.addEventListener('wheel', function(e) {
                e.preventDefault();
            }, { passive: false });
        }
    </script>
</body>
</html>
